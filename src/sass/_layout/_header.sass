@use "../_foundation" as f

@keyframes blinking
    0%
        opacity: 1
    24%
        opacity: 1
    25%
        opacity: 0
    49%
        opacity: 0
    50%
        opacity: 1
    74%
        opacity: 1
    75%
        opacity: 0
    99%
        opacity: 0
    100%
        opacity: 1

@keyframes expandBeam
    0%
        right: calc(50% - 40px)
        width: 80px
    100%
        right: calc(50% - 237px)
        width: 474px

@keyframes expandBeamSP
    0%
        width: 60px
        right: calc(50% - 30px)
    100%
        right: calc(50% - 180px)
        width: 360px


.l-header
    pointer-events: none
    &.is-fixed
        padding: 130px 0 0
        @include f.media()
            padding: 109px 0 0


    &__container
        z-index: 10
        display: flex
        justify-content: space-between
        align-items: flex-start
        flex-shrink: 0
        height: 112px
        padding: 18px 0 0
        box-sizing: content-box
        pointer-events: none
        @include f.contentNarrowWidth()
        @include f.media()
            height: 86px
            padding: 23px 0 0

        &.is-fixed
            position: fixed
            top: 0px
            left: 50%
            transform: translate(-50%, 0)



    &__link
        pointer-events: auto
        flex-shrink: 0
        margin: 28px 0 34px
        padding: 8px 0
        @include f.font-styling(3.2rem, calc(34/32), 0.02em)
        transition: transform 0.3s, opacity 0.1s f.ease("easeOutCubic")
        @include f.media()
            margin: 15px 0 21px
            padding: 8px 0
            @include f.font-styling(2.2rem, calc(34/22), 0.02em)

        &.is-hover
            color: f.$color-orange

        &.is-hide
            transform: translate(0, -130px)
            @include f.media()
                transform: translate(0, -109px)


    &__kv-note
        flex-shrink: 0
        position: absolute
        left: 50%
        transform: translate(-50%, 0)
        margin: 9px 0 0
        text-align: center
        @include f.media()
            margin: -11px 0 0

        svg
            rotate: 90deg
            width: auto
            height: 16px
            margin: 0 0 13px
            pointer-events: none
            @include f.media()
                height: 14px
                margin: 0 0 20px

            path
                fill: f.$color-black

        &.is-rev
            svg
                path
                    fill: f.$color-white

        &.is-hide
            visibility: hidden

        p
            @include f.font-styling(1.6rem, calc(34/16), 0.02em)
            @include f.media()
                font-size: 1.4rem
                line-height: calc(34/14)


            &.is-animating
                animation: 2s 1 alternate forwards blinking


    &__button
        pointer-events: auto
        flex-shrink: 0
        position: absolute
        left: 50%
        transform: translate(-50%, 0)

        &.is-hide
            visibility: hidden


        &--arrow
            width: 56px
            height: 56px
            margin: 26px 0 0
            border: 3px solid f.$color-black
            border-radius: 50%
            opacity: 0
            pointer-events: none
            @include f.expand-circle
            @include f.media()
                width: 48px
                height: 48px
                margin: 17px 1px 0
                border: 2px solid f.$color-black

            &.is-in-kv
                opacity: 1
                pointer-events: all

            &.is-hover
                width: 64px
                height: 64px
                margin: 22px 0 0
                @include f.media()
                    width: 52px
                    height: 52px
                    margin: 15px 0 0

            svg
                position: absolute
                right: 50%
                bottom: 50%
                transform: translate(50%, 50%)
                width: auto
                height: 23px
                pointer-events: none
                @include f.media()
                    height: 19px

                path
                    fill: f.$color-black

            &.is-rev
                border: 3px solid f.$color-white
                @include f.media()
                    border: 2px solid f.$color-white
                svg
                    path
                        fill: f.$color-white


        &--face
            width: 80px
            height: 64px
            margin: 21.5px 0 0
            @include f.media()
                width: 60px
                height: 48px
                margin: 17px 1px 0

            &.is-in-kv
                opacity: 0
                pointer-events: none

            &.is-hover
                .l-header__button--face-wrapper > span
                    animation: expandBeam 0.4s f.ease('easeOutExpo') forwards
                    @include f.media()
                        animation: expandBeamSP 0.4s f.ease('easeOutExpo') forwards
                img:last-child
                    opacity: 1

            &-wrapper
                position: absolute
                top: -17px
                left: 50%
                transform: translate(-50%, 0)
                width: 474px
                height: 102px
                pointer-events: none
                @include f.media()
                    top: -13px
                    width: 360px
                    height: 77px
                    max-width: 100svw
                    overflow: hidden

                &>img, &>span
                    position: absolute
                    top: 0
                    right: calc(50% - 237px)
                    width: 474px
                    height: 102px
                    pointer-events: none
                    @include f.media()
                        right: calc(50% - 180px)
                        width: 360px
                        height: 77px

                &>span
                    right: calc(50% - 40px)
                    width: 80px
                    will-change: width, right
                    @include f.media()
                        right: calc(50% - 30px)
                        width: 60px

                img:last-child
                    width: 100%
                    height: 100%
                    object-fit: cover
                    opacity: 0
                    @include f.hover-opacity

